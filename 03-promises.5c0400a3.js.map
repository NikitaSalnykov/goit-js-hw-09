{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEAC,EAAAF,GAASG,OAAOC,KAAK,CACnBC,MAAO,QACPC,SAAU,YACVC,SAAU,OACVC,QAAS,EACTC,cAAc,IAKhB,MAAMC,EAAO,CACXC,KAAMC,SAASC,cAAc,SAC7BC,MAAOF,SAASC,cAAc,uBAC9BE,KAAMH,SAASC,cAAc,sBAC7BG,OAAQJ,SAASC,cAAc,wBAC/BI,OAAQL,SAASC,cAAc,0BAGjC,IAAIK,EAAa,EACbC,EAAY,EACZC,EAAS,EACbV,EAAKO,OAAOI,UAAW,EACvB,IAAIC,EAAW,EAuCf,SAASC,EAAcjB,EAAUQ,GAC/B,MAAMU,EAAgBC,KAAKC,SAAW,GAChC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KACrCC,YAAW,KACCN,EACFI,EAAQ,C,SAACtB,E,MAAUQ,IAEnBe,EAAO,C,SAACvB,E,MAAUQ,GAAO,GAEhCQ,EAAS,G,CA9CZZ,EAAKC,KAAKoB,iBAAiB,UAE3B,SAAsBC,GACpBA,EAAMC,iBAENvB,EAAKO,OAAOI,UAAW,EACvBH,GAAcR,EAAKI,MAAMoB,MACzBf,GAAaT,EAAKK,KAAKmB,MACvBd,GAAUV,EAAKM,OAAOkB,MACtBZ,EAAWJ,EAGX,IAAK,IAAIiB,EAAI,EAAGA,GAAKf,EAAQe,GAAK,EAGlCZ,EAAcY,EAAGb,GAChBc,MAAK,EAAC9B,SAAEA,EAAQQ,MAAEA,MACjBZ,EAAAF,GAASG,OAAOkC,QAAQ,qBAAqB/B,QAAeQ,OACxDqB,IAAMf,IACVV,EAAKO,OAAOI,UAAW,EAAK,IAG7BiB,OAAM,EAAChC,SAAEA,EAAQQ,MAAEA,MAClBZ,EAAAF,GAASG,OAAOoC,QAAQ,oBAAoBjC,QAAeQ,OACvDqB,IAAMf,IACVV,EAAKO,OAAOI,UAAW,EAAK,IAI5BC,GAAYH,C","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix'; \n\nNotiflix.Notify.init({\n  width: '280px',\n  position: 'right-top',\n  distance: '10px',\n  opacity: 1,\n  clickToClose: true ,\n});\n\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nconst refs = {\n  form: document.querySelector('.form'),\n  delay: document.querySelector('input[name=\"delay\"]'),\n  step: document.querySelector('input[name=\"step\"]'),\n  amount: document.querySelector('input[name=\"amount\"]'),\n  submit: document.querySelector('button[type=\"submit\"]'),\n}\n\nlet delayValue = 0\nlet stepValue = 0\nlet amount = 0\nrefs.submit.disabled = false;\nlet delaySum = 0\n\nrefs.form.addEventListener('submit', onFormSubmit)\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  \n  refs.submit.disabled = true;\n  delayValue = +refs.delay.value\n  stepValue = +refs.step.value\n  amount = +refs.amount.value\n  delaySum = delayValue\n  \n\n  for (let i = 1; i <= amount; i += 1) {\n    \n    \n  createPromise(i, delaySum)\n  .then(({ position, delay }) => {\n    Notiflix.Notify.success(`Fulfilled promise ${position} in ${delay}ms`);\n    if (i === amount) {\n    refs.submit.disabled = false\n  }\n  })\n  .catch(({ position, delay }) => {\n    Notiflix.Notify.failure(`Rejected promise ${position} in ${delay}ms`);\n    if (i === amount) {\n    refs.submit.disabled = false\n  }\n  \n  });\n    delaySum += stepValue;\n  }\n\n\n\n\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n        return new Promise((resolve, reject) => {\nsetTimeout(() => {\n        if (shouldResolve) {\n          resolve({position, delay})\n      } else {\n          reject({position, delay})\n      }\n}, delaySum);\n      })\n  \n}\n\n\n"],"names":["$7Y9D8","parcelRequire","$parcel$interopDefault","Notify","init","width","position","distance","opacity","clickToClose","$47d4ff9957288465$var$refs","form","document","querySelector","delay","step","amount","submit","$47d4ff9957288465$var$delayValue","$47d4ff9957288465$var$stepValue","$47d4ff9957288465$var$amount","disabled","$47d4ff9957288465$var$delaySum","$47d4ff9957288465$var$createPromise","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","addEventListener","event","preventDefault","value","i","then","success","catch","failure"],"version":3,"file":"03-promises.5c0400a3.js.map"}